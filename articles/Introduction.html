<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="deflist">
<title>Introduction • deflist</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction">
<meta property="og:description" content="deflist">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">deflist</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Introduction.html">Introduction</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction</h1>
                        <h4 data-toc-skip class="author">Bradley
Buchsbaum</h4>
            
            <h4 data-toc-skip class="date">2023-04-26</h4>
      
      
      <div class="d-none name"><code>Introduction.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>deflist</code> package provides a read-only list-like
object that retrieves elements with a function call. This is
particularly useful for handling large datasets where elements are
computed on-demand and not stored in memory.</p>
<p>In this vignette, we will provide an overview of the main features of
the <code>deflist</code> package and demonstrate its usage with
examples.</p>
</div>
<div class="section level2">
<h2 id="creating-a-deferred-list">Creating a deferred list<a class="anchor" aria-label="anchor" href="#creating-a-deferred-list"></a>
</h2>
<p>To create a deferred list, use the <code>deflist</code> function. The
key input is a function that defines how to access elements in the list.
The deferred list can also be configured to memoise element access and
cache the results for faster retrieval.</p>
<p>Let’s create a simple deferred list for square numbers:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bbuchsbaum.github.io/deflist/">deflist</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">square_fun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="va">i</span><span class="op">^</span><span class="fl">2</span></span>
<span><span class="va">square_deflist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/deflist.html">deflist</a></span><span class="op">(</span><span class="va">square_fun</span>, len <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">square_deflist</span></span>
<span><span class="co">#&gt; deflist:  5  elements. </span></span>
<span><span class="co">#&gt; memoised:  FALSE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="accessing-elements">Accessing elements<a class="anchor" aria-label="anchor" href="#accessing-elements"></a>
</h2>
<p>Elements in a deferred list can be accessed using standard list
indexing, either by position or by name (if names are provided):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Access by index</span></span>
<span><span class="va">square_deflist</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="va">square_deflist</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span></span>
<span><span class="co"># Access multiple elements</span></span>
<span><span class="va">square_deflist</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] 9</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] 25</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="memoisation">Memoisation<a class="anchor" aria-label="anchor" href="#memoisation"></a>
</h2>
<p>Deferred lists can be configured to use memoisation, which caches the
results of function calls to speed up repeated access to the same
elements. To enable memoisation, set the memoise argument to TRUE when
creating the deferred list. You can also specify a cache type (“memory”
or “file”) and a cache directory for file-based caching.</p>
<p>Here’s an example with memoisation enabled:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">memoised_square_fun</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/deflist.html">deflist</a></span><span class="op">(</span><span class="va">square_fun</span>, len <span class="op">=</span> <span class="fl">5</span>, memoise <span class="op">=</span> <span class="cn">TRUE</span>, cache <span class="op">=</span> <span class="st">"memory"</span><span class="op">)</span></span>
<span><span class="va">memoised_square_fun</span></span>
<span><span class="co">#&gt; deflist:  5  elements. </span></span>
<span><span class="co">#&gt; memoised:  TRUE</span></span>
<span></span>
<span><span class="co"># Access an element multiple times</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="op">{</span> <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1000</span><span class="op">)</span> <span class="va">memoised_square_fun</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt;    user  system elapsed </span></span>
<span><span class="co">#&gt;   0.097   0.000   0.098</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="converting-to-a-list">Converting to a list<a class="anchor" aria-label="anchor" href="#converting-to-a-list"></a>
</h2>
<p>A deferred list can be converted to a standard R list using the
as.list method:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">square_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="va">square_deflist</span><span class="op">)</span></span>
<span><span class="va">square_list</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] 9</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; [1] 16</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[5]]</span></span>
<span><span class="co">#&gt; [1] 25</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="read-only-protection">Read-only protection<a class="anchor" aria-label="anchor" href="#read-only-protection"></a>
</h2>
<p>Deferred lists are read-only, meaning that you cannot modify their
elements. Attempting to do so will result in an error:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="va">square_deflist</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `[[&lt;-`(`*tmp*`, 1, value = 0) : </span></span>
<span><span class="co">#&gt;   read only list, cannot set elements</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="use-cases">Use Cases<a class="anchor" aria-label="anchor" href="#use-cases"></a>
</h2>
<p>Some potential use cases for deflist include:</p>
<p><strong>Large datasets</strong>: When working with very large
datasets, loading the entire dataset into memory might not be feasible.
By using deflist, you can compute and retrieve elements as needed,
saving memory and potentially speeding up processing.</p>
<p><strong>Expensive computations</strong>: When elements of a list are
expensive to compute, deflist can be used to cache the results, reducing
the time required to recompute the same element multiple times.</p>
<p><strong>Dynamic content</strong>: In cases where the content of a
list may change over time, deflist can be used to ensure that the most
up-to-date information is always retrieved when an element is
accessed.</p>
<p><strong>API calls</strong>: When working with APIs that have rate
limits or require significant processing time, deflist can be used to
make API calls on-demand, avoiding unnecessary calls and reducing the
chance of hitting rate limits.</p>
<p><strong>Lazy evaluation</strong>: In situations where you only need a
subset of the data or elements from a list, deflist allows you to
retrieve only the required elements, potentially speeding up processing
and reducing memory usage.</p>
</div>
<div class="section level2">
<h2 id="caveats">Caveats<a class="anchor" aria-label="anchor" href="#caveats"></a>
</h2>
<p>While deflist offers several advantages in certain scenarios, there
are some potential dangers or caveats that you should be aware of when
using this data structure:</p>
<p><strong>Memory management</strong>: Since <code>deflist</code>
retrieves elements on-demand, it can help reduce memory usage in certain
scenarios. However, if the retrieved elements are not discarded after
usage, it could lead to increased memory consumption over time. It is
essential to manage memory carefully when working with deflist.</p>
<p><strong>Performance</strong>: While deflist can improve performance
in cases where the entire dataset is not required or when caching is
beneficial, it may introduce overhead when accessing elements. This
overhead could lead to slower performance compared to using a standard
list if elements are accessed frequently or sequentially.</p>
<p><strong>Complexity</strong>: Using deflist introduces an additional
level of complexity to your code, which can make it harder to
understand, maintain, and debug. You should weigh the benefits of using
deflist against the potential increase in complexity when deciding
whether to use it.</p>
<p><strong>Error handling</strong>: If the function used to retrieve
elements from the deflist encounters an error or fails, you need to
handle such cases gracefully to avoid breaking your application. This
might require additional error handling and exception handling in your
code.</p>
<p><strong>Caching and memoization</strong>: If <code>deflist</code> is
used with memoization, it is crucial to consider the implications of
caching results. In some cases, caching might not be desired, as it can
lead to stale or outdated results. Additionally, when using file-based
caching, you need to ensure that the cache directory is managed
correctly, which could involve handling file I/O errors, managing disk
space, and implementing cache eviction policies.</p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The <code>deflist</code> package provides a flexible way to work with
large datasets that require on-demand computation. It can be easily
integrated into existing R workflows, making it a valuable tool for a
wide range of applications.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Bradley Buchsbaum.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
